%!TEX root = main.tex

\newcommand{\myscale}[2]{\scalebox{#1}[#1]{#2}}
\newcommand{\mymscale}[2]{\ensuremath{\scalebox{#1}[#1]{$#2$}}}
\newcommand{\mysnl}[1]{\mymscale{0.85}{#1}}

% keep spacing after a todo
\makeatletter
\xpretocmd{\todo}{\@bsphack}{}{}
\xapptocmd{\todo}{\@esphack}{}{}
\makeatother

% add a different todo color
\newcommand\mytodo[1]{\todo[color=lightgray]{#1}}

\newcommand\defaccr[2]{\newcommand#1{#2\xspace}}
\newcommand\defmath[2]{\newcommand#1{\ensuremath{#2}\xspace}}
\newcommand\concept[1]{\textit{#1}}

\newcommand\ccode[1]{\texttt{#1}}


\newcommand{\overarrowi}[1]{\xrightarrow{#1}}
\newcommand{\overarrow}[1]{
  \mathchoice{\raisebox{-3pt}{ $\overarrowi{#1}$ }}
             {\raisebox{-3pt}{ $\overarrowi{#1}$ }}
             {\raisebox{-3pt}{ $\overarrowi{#1}$ }}
             {\raisebox{-3pt}{ $\overarrowi{#1}$ }}}

%containers
\providecommand{\tuple}[1]{\ensuremath{\left( #1 \right)}}
\providecommand{\set}[1]{\ensuremath{\left\lbrace #1 \right\rbrace}}
\providecommand{\sequence}[1]{\ensuremath{\left( #1 \right)}}
\providecommand{\sizeof}[1]{\ensuremath{\left\vert{#1}\right\vert}}
\providecommand{\vect}[1]{\ensuremath{( \begin{matrix} #1 \end{matrix} )}}
\providecommand{\always}[1]{\ensuremath{\left[ #1 \right]}}
\providecommand{\possibly}[1]{\ensuremath{\left\langle #1 \right\rangle}}
%\newcommand{\powerset}[1]{\wp({#1})}
\newcommand{\powerset}[1]{\ensuremath{\mathbf{2}^{#1}}}
% Semantics
\newcommand{\eval}[2][]{\ensuremath{\llbracket #2\rrbracket^{#1}}}

% Map (bijection)
\DeclareMathOperator{\bijmap}{%
 \rlap{\ensuremath{\rightarrowtail}}%
 	{\ensuremath{\mkern2mu\twoheadrightarrow}}}

% Abs, Floor, Ceil
\providecommand{\abs}[1]{\lvert#1\rvert}
\providecommand{\floor}[1]{\lfloor#1\rfloor}
\providecommand{\ceil}[1]{\lceil#1\rceil}

\newcommand{\defn}{\,\triangleq\,}

% Rotate text
\newcommand{\turner}[3][10em]{% \turn[<width>]{<angle>}{<stuff>}
  \rlap{\rotatebox{#2}{\begin{varwidth}[t]{#1}#3\end{varwidth}}}%
}


\providecommand{\Assign}[2]{{#1{~:=~}#2}}
\providecommand{\AssignState}[2]{\State \Assign{#1}{#2}}

\newcommand{\myproc}[1]{\textnormal{\mymathfont#1}}
\defmath\mywidth{\mathrm{w}}
\defmath\myccache{CCache}
\defmath\mytcache{TCache}
\defmath\mypartition{\myproc{partition}}
\defmath\mytier{\myproc{tier}}
\defmath\mytraverse{\myproc{trav}}
\defmath\myorder{\myproc{order}}
\defmath\mycompile{\myproc{compile}}
\defmath\myredun{\myproc{redun}}
\defmath\myreverse{^{\scriptscriptstyle\scalebox{0.25}[0.7]{\( - \)}1}}
\defmath\mymin{\scalebox{0.25}[0.7]{\( - \)}}

\defmath\mycond{\textit{c}}
\defmath\myrep{\myproc{rep}}
\defmath\myprrep{\myproc{rep}_{\myproc{p}}}
\defmath\myscope{\myproc{scope}}
\defmath\myroots{\myproc{rt}}
\defmath\myvparents{\myproc{pa}}
\defmath\setdiff{{\backslash}}

\newcommand{\mymathfont}{\sffamily}
\newcommand{\myfunction}[2][]       {{\ensuremath{\myproc{#2}_{#1}}}}
\newcommand{\mylinkfunction}[3][]   {{\hypersetup{hidelinks}\hyperlink{#2}{\myfunction[#1]{#3}}}}

\newcommand{\mybnvar   }           {\mylinkfunction[]{func:bnvar}   {bnvar}}
\newcommand{\mybnval   }           {\mylinkfunction[]{func:bnval}   {bnval}}
\newcommand{\myvar     }           {\mylinkfunction[]{func:var}     {var}}
\newcommand{\myhigh    }           {\mylinkfunction[]{func:hi}      {hi}}
\newcommand{\mylow     }           {\mylinkfunction[]{func:lo}      {lo}}
\newcommand{\myweights }           {\mylinkfunction[]{func:wg}      {wg}}
\newcommand{\myprob    }           {\mylinkfunction[]{func:pr}      {pr}}
\newcommand{\myval  }              {\mylinkfunction[]{func:va}      {val}}
\newcommand{\myvalues  }           {\mylinkfunction[]{func:va}      {val}}
\newcommand{\myatoms   }           {\mylinkfunction[]{func:at}      {at}}
\newcommand{\myliterals}           {\mylinkfunction[]{func:li}      {li}}

\newcommand{\mydomain}[1][]        {\mylinkfunction[] {func:domain}       {car}}
\newcommand{\myshared}             {\mylinkfunction[]  {func:shared}      {sh}}
\newcommand{\mycontext}[1][]       {\mylinkfunction[#1]{func:context}     {co}}
\newcommand{\mychildren}[1][]      {\mylinkfunction[#1]{func:children}    {ch}}
\newcommand{\myancestors}[1][]     {\mylinkfunction[#1]{func:ancestors}   {an}}
\newcommand{\mydescendants}[1][]   {\mylinkfunction[#1]{func:descendants} {de}}
\newcommand{\mysubgraph}[1][]      {\mylinkfunction[#1]{func:subgraph}    {su}}
\newcommand{\myparents}[1][]       {\mylinkfunction[#1]{func:parents}     {pa}}
\newcommand{\myfamily}[1][]        {\mylinkfunction[#1]{func:family}      {fa}}
\newcommand{\myroot}[1][]          {\mylinkfunction[#1]{func:root}        {rt}}
\newcommand{\mydom}[1][]          {\mylinkfunction[#1]{func:dom}      {dom}}

\newcommand{\compiler}{\textsc{compiler}\xspace}
\newcommand{\engine}{\textsc{inference engine}\xspace}
\newcommand{\splitengine}{\textsc{inference}\\\textsc{engine}}




